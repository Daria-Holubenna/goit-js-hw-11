{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default function getImagesByQuery(query) {\n    axios.defaults.baseURL = 'https://pixabay.com/api/';\n   return axios\n        .get('', {\n            params: {\n                key: '50295834-c918df4fa87d72bde5e1e5104',\n                q: query,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true,\n                per_page: 9,\n            },\n        })\n        .then(function (response) {\n            if (response.status !== 200) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n            return response.data;\n        })\n        .catch(function (error) {\n            \n            console.log(error)\n        })\n        .finally(function () {\n            // always executed\n        });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nnew SimpleLightbox('.some-element a', {\n  /*options*/\n});\nconst galleryList = document.querySelector('.gallery');\nlet galleryLib = new SimpleLightbox('.gallery a');\nexport function createGallery(images) {\n  const markup = images\n    .map(image => {\n      return `<li>\n    <a href=${image.largeImageURL} title=${image.tags}>\n    <img src=${image.webformatURL} \n    alt=${image.tags} width=\"450\"\n    />\n    </a>\n    <div class=\"gallery-img\">\n    <p>${image.likes}</p>\n    <p>${image.views}</p>\n    <p>${image.comments}</p>\n    <p>${image.downloads}</p>\n     </div>\n    </li>`;\n    })\n    .join('');\n  galleryList.insertAdjacentHTML('beforeend', markup);\n  galleryLib.refresh();\n}\n\nexport function clearGallery() {\n  galleryList.innerHTML = '';\n}\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n      loader.style.display = 'inline-block'; \n  }\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n      loader.style.display = 'none';\n  }\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport getImagesByQuery from './js/pixabay-api.js';\n\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\n\nconst formData = document.querySelector('.form');\nconst input = document.querySelector('input[name=\"search-text\"]');\nconst submitBtn = document.querySelector('button[type=\"submit\"]');\n\nsubmitBtn.disabled = input.value.trim() === '';\n\ninput.addEventListener('input', () => {\n    submitBtn.disabled = input.value.trim() === '';\n});\n\n\n\nformData.addEventListener('submit', ev => {\n  ev.preventDefault();\n    const query = input.value.trim();\n    if (query === '') {\n        submitBtn.disabled = true; \n        return;\n    }\n    clearGallery();\n    showLoader(); \n  getImagesByQuery(query)\n      .then(data => {\n          hideLoader();\n          if (data.hits && data.hits.length > 0) {\n              createGallery(data.hits);\n          } else {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight'\n            });\n          }\n\n    })\n      .catch(error => {\n          iziToast.error({\n            title: 'Error',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight'\n        });\n          console.error(error);\n          hideLoader();\n        } );\n});\nhideLoader();"],"names":["getImagesByQuery","query","axios","response","error","SimpleLightbox","galleryList","galleryLib","createGallery","images","markup","image","clearGallery","showLoader","loader","hideLoader","formData","input","submitBtn","ev","data","iziToast"],"mappings":"owBAEe,SAASA,EAAiBC,EAAO,CAC5C,OAAAC,EAAM,SAAS,QAAU,2BACnBA,EACD,IAAI,GAAI,CACL,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACb,CACb,CAAS,EACA,KAAK,SAAUE,EAAU,CACtB,GAAIA,EAAS,SAAW,IACpB,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE5D,OAAOA,EAAS,IAC5B,CAAS,EACA,MAAM,SAAUC,EAAO,CAEpB,QAAQ,IAAIA,CAAK,CAC7B,CAAS,EACA,QAAQ,UAAY,CAE7B,CAAS,CACT,CCzBA,IAAIC,EAAe,kBAAmB,CAEtC,CAAC,EACD,MAAMC,EAAc,SAAS,cAAc,UAAU,EACrD,IAAIC,EAAa,IAAIF,EAAe,YAAY,EACzC,SAASG,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA,cACCA,EAAM,aAAa,UAAUA,EAAM,IAAI;AAAA,eACtCA,EAAM,YAAY;AAAA,UACvBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,SAIXA,EAAM,KAAK;AAAA,SACXA,EAAM,KAAK;AAAA,SACXA,EAAM,QAAQ;AAAA,SACdA,EAAM,SAAS;AAAA;AAAA,UAGnB,EACA,KAAK,EAAE,EACVL,EAAY,mBAAmB,YAAaI,CAAM,EAClDH,EAAW,QAAO,CACpB,CAEO,SAASK,GAAe,CAC7BN,EAAY,UAAY,EAC1B,CACO,SAASO,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,IACAA,EAAO,MAAM,QAAU,eAE7B,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,IACAA,EAAO,MAAM,QAAU,OAE7B,CChCA,MAAME,EAAW,SAAS,cAAc,OAAO,EACzCC,EAAQ,SAAS,cAAc,2BAA2B,EAC1DC,EAAY,SAAS,cAAc,uBAAuB,EAEhEA,EAAU,SAAWD,EAAM,MAAM,KAAI,IAAO,GAE5CA,EAAM,iBAAiB,QAAS,IAAM,CAClCC,EAAU,SAAWD,EAAM,MAAM,KAAI,IAAO,EAChD,CAAC,EAIDD,EAAS,iBAAiB,SAAUG,GAAM,CACxCA,EAAG,eAAc,EACf,MAAMlB,EAAQgB,EAAM,MAAM,KAAI,EAC9B,GAAIhB,IAAU,GAAI,CACdiB,EAAU,SAAW,GACrB,MACH,CACDN,IACAC,IACFb,EAAiBC,CAAK,EACjB,KAAKmB,GAAQ,CACVL,IACIK,EAAK,MAAQA,EAAK,KAAK,OAAS,EAChCZ,EAAcY,EAAK,IAAI,EAEzBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAa,CAGb,CAAK,EACE,MAAMjB,GAAS,CACZiB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2EACT,SAAU,UACtB,CAAS,EACC,QAAQ,MAAMjB,CAAK,EACnBW,GACV,EACA,CAAC,EACDA,EAAY"}